{% extends 'main/layout.html' %}

{% block title %} Клиенты {% endblock %}
{% block content %}
    <div class="container m-3" style="width: 48rem;">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div class="form-group">    
            <form action="{% url 'clients_page' %}" method="post"> 
                    {% csrf_token %}
                    {% for f in clientform %}
                    <p><label class="form-label" for="{{ f.id_for_label }}">{{f.label}}: </label>{{ f }}</p>
                    <div class="form-error">{{ clientform.f.errors }}</div>
                    {% endfor %}
                    <button type="submit" class="btn btn-primary" style="width: 18rem">Add</button>
            </form>
        </div>
    </div>
    <br>
    <div class="container">
        <table class="table table-dark">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Contact</th>
                <th scope="col">Telegram</th>
                <th scope="col">Phone</th>
                <th scope="col">Roletype</th>
                <th scope="col">Agreements</th>
                <th scope="col">Projects</th>
              </tr>
            </thead>
            <tbody>
            {% if clients %}
              {% for client in clients %}
                <tr>
                <th scope="row">{{client.id}}</th>
                <td>{{client.client_name}}</td>
                <td>{{client.client_contact}}</td>
                <td>{{client.client_telegram}}</td>
                <td>{{client.client_phone}}</td>
                <td>{{client.client_roletype}}</td>
                <td>{{client.client_agreements}}</td>
                <td>{{client.id}}</td>
              </tr>
              {% endfor %}
            {% else %}
                <tr>
                    <th scope="row"></th>
                    <td>No clients yet</td>
              </tr>
            {% endif %}
            </tbody>
          </table>
    </div>
{% endblock %}